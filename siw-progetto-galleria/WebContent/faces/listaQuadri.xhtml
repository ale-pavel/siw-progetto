<!DOCTYPE html> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:o="http://omnifaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"> 
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
	<h:outputStylesheet name="css/bootstrap.min.css" />
	<h:outputScript name="js/jquery.min.js" />
	<h:outputScript name="js/bootstrap.min.js" />
	<title>Galleria Quadri</title>
	<style>
		.list-group-item {margin-right:10px}
		a.btn {margin-right:10px}
	</style>
</h:head>
<h:body>
	<f:view>
		<ui:include src="/resources/html/navBar.xhtml" />
		<div class="container">	
			<h:form>
				Ricerca per Autore: <h:inputText id="autoreCercato" value="#{queryController.autoreCercato}" required="true"/>
				<h:commandButton value="Submit" action="#{queryController.listaQuadriQuery()}" />
			</h:form>
			<h:form>
				Ricerca Quadro: <h:inputText id="quadroCercato" value="#{queryController.quadroCercato}" required="true"/>
				<h:commandButton value="Submit" action="#{queryController.listaQuadriQuery()}" />
			</h:form>
			<div class="list-group">
				<ui:repeat var="quadro" value="#{queryController.listaQuadriQuery()}">
					<div class="col-sm-12">
						<div class="col-sm-4">
						<ul class="list-group">
							<li class="list-group-item"><h:form>
		   						Titolo: <h:commandLink value="#{quadro.titolo}" 
		   							action="#{quadroController.visualizzaQuadroCorrente(quadro.id)}" />
							</h:form>
							</li>
							<li class="list-group-item">Anno: #{quadro.anno}</li>
							<li class="list-group-item">Tecnica: #{quadro.tecnica}</li>
							<li class="list-group-item">Dimensioni: #{quadro.dimensioni}</li>
							<li class="list-group-item">
								<h:form>
									Autore:<h:commandLink value="#{quadro.autore.nome} #{quadro.autore.cognome}" 
				   							action="#{autoreController.visualizzaAutore(quadro.autore.id)}" />
			   					</h:form>
			   				</li>
						</ul>
						</div>
						<div class="col-sm-8">
							<o:graphicImage class="img" value="#{quadro.imgFile}" dataURI="true"/>
						</div>					
					</div>
				</ui:repeat>
				<h:link value="Homepage" outcome="/index.jsf" styleClass="btn btn-primary" />
			</div>
		</div>
	</f:view>
</h:body>
</html>
